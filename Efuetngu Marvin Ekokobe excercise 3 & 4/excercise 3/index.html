<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="style.css">
        <body>
            <h3 class="heading"> Video gallery</h3>
            <div class="container">
                <div class="main-video">
                    <div class="video">
                        <video id="homevideo" src="images/loopvideo.mp4" controls muted autoplay></video>
                        <h3 class="title">
                            video 1 title
                        </h3>
                    </div>
                </div>
                <div class="video-list">
                    <div class="vid active">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 1 title
                        </h3>
                    </div>
                    <div class="vid">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 2 title
                        </h3>
                    </div>
                    <div class="vid">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 3 title
                        </h3>
                    </div>
                    <div class="vid">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 4 title
                        </h3>
                    </div>
                    <div class="vid">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 5 title
                        </h3>
                    </div>
                    <div class="vid">
                        <video src="images/loopvideo.mp4"  muted ></video>
                        <h3 class="title">
                            video 6 title
                        </h3>
                    </div>
                </div>
            </div>
            <script>
                let listVideo = document.querySelectorAll('.video-list .vid');
                let mainVideo = document.querySelector('.main-video video' );
                let title = document.querySelector('.main-video .title');


                
                    
                listVideo.forEach(video => {
                    mainVideo.addEventListener('ended', (event) => {
                        listVideo.forEach(vid => vid.classList.remove('active'));
                        video.classList.add('active');
                        if(video.classList.contains('active')){
                            let src = video.children[0].getAttribute('src');
                            mainVideo.src = src;
                            let text = video.children[1].innerHTML;
                            title.innerHTML = text;
                            console.log('video has ended and is going to the next one')

                            
                            
                           
                          
                        };
               
            });
                    
                   
                })
               /* mainVideo.onended = (event) => {
                       console.log('the best')
                    }*/
                    
//};
                    
                    

                listVideo.forEach(video => {
                    video.onclick = () => {
                        listVideo.forEach(vid => vid.classList.remove('active'));
                        video.classList.add('active');
                        if(video.classList.contains('active')){
                            let src = video.children[0].getAttribute('src');
                            mainVideo.src = src;
                            let text = video.children[1].innerHTML;
                            title.innerHTML = text;
                          
                        };
                    }
                })
            </script>
        </body>
    </head>
</html>